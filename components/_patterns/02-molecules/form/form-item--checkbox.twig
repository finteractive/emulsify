{% if sg_wrapper %}
<div class="sg_wrapper--forms">
{% endif %}

<div{{ attributes.addClass(classes).addClass('m-form-item--checkbox') }} data-states-for="{{ name }}">

  {% if label_display in ['before', 'invisible'] %}
    {{ label }}
  {% endif %}

  {% if prefix is not empty %}
    <span class="m-form-item__prefix">{{ prefix }}</span>
  {% endif %}

  {% if description_display == 'before' and description.content %}
    <div{{ description.attributes.addClass('m-form-item__description') }}>
      {{ description.content }}
    </div>
  {% endif %}

  {% if children %}
    {{ children }}
  {% endif %}

  {% if suffix is not empty %}
    <span class="m-form-item__suffix">{{ suffix }}</span>
  {% endif %}

  {% if label_display == 'after' %}
      {{ label }}
  {% endif %}

  {% if gentle_form %}
    <div class="m-form-item__error" data-errors-for="{{ name }}">
      {% if gentle_form.required %}
        <span data-errors-when="valueMissing">{{ gentle_form.required }}</span>
      {% endif %}
      {% if gentle_form.type_mismatch %}
        <span data-errors-when="typeMismatch">{{ gentle_form.type_mismatch }}</span>
      {% endif %}
      {% if gentle_form.pattern_mismatch %}
        <span data-errors-when="patternMismatch">{{ gentle_form.pattern_mismatch.message }}</span>
      {% endif %}
    </div>
  {% endif %}

  {% if description_display in ['after', 'invisible'] and description.content %}
    <div{{ description.attributes.addClass(description_classes).addClass('m-form-item__description') }}>
      {{ description.content }}
    </div>
  {% endif %}
</div>

{% if sg_wrapper %}
</div>
{% endif %}
